<h1 align="center">
   Chain of Responsibility
</h1>
<h3 align="center">
   Цепочка обязоностей
</h3>

**Цепочка обязанностей** — это поведенческий паттерн проектирования, который позволяет передавать запросы
последовательно по цепочке обработчиков. Каждый последующий обработчик решает, может ли он обработать запрос сам и стоит
ли передавать запрос дальше по цепи.

Как и многие другие поведенческие паттерны, Цепочка обязанностей базируется на том, чтобы превратить отдельные поведения
в объекты. В нашем случае, каждая проверка переедет в отдельный класс с единственным методом выполнения. Данные запроса,
над которым происходит проверка, будут передаваться в метод как аргументы.

А теперь по-настоящему важный этап. Паттерн предлагает выстроить несколько обработчиков в цепь. Каждый обработчик будет
хранить ссылку на следующий обработчик в цепи. А при получении запроса, он не только обработает его, но и передаст
следующему объекту. Таким образом, можно сформировать длинную цепочкуобработчиков и передавать запрос в первый из них,
зная о том, что вся цепочка сможет его обработать в определённом порядке. И последний штрих. Обработчик необязательно
должен передавать запрос дальше. Причём эта особенность может быть использована по-разному.

<h3 align="center">
   Реализация
</h3>

1. Создайте интерфейс обработчика и опишите в нём основной метод обработки. Продумайте, в каком виде клиент должен
   передавать данные запроса в обработчик. Самый гибкий способ — превратить данные запроса в объект и передавать его
   целиком через параметры метода обработчика.
2. Имеет смысл создать абстрактный базовый класс обработчиков, чтобы не дублировать реализацию метода получения
   следующего обработчика во всех конкретных обработчиках.

   Добавьте в базовый обработчик поле для хранения ссылки на
   следующий объект цепочки. Устанавливайте начальное значение этого поля через конструктор. Это сделает объекты
   обработчиков неизменяемыми. Но если программа предполагает динамическую перестройку цепочек, можете добавить и сеттер
   для поля.

   Реализуйте здесь метод обработки так, чтобы он перенаправлял запрос следующему объекту, проверив его
   наличие. Это позволит полностью скрыть поле-ссылку от подклассов, дав им возможность передавать запросы дальше по
   цепи, обратившись к родительской реализации метода.
3. Один за другим создайте классы конкретных обработчиков и реализуйте в них методы обработки запросов. При получении
   запроса каждый обработчик должен решить:
    - Может он обработать запрос или нет?
    - Следует передать запрос следующему обработчику или нет?
4. Клиент может собирать цепочку обработчиков самостоятельно, опираясь на свою бизнес-логику, либо получать уже готовые
   цепочки извне. В последнем случае, цепочки собирают фабричные объекты исходя из конфигурации приложения или текущего
   окружения.
5. Клиент может посылать запросы любому обработчику в цепи, а не только первому. Запрос будет передаваться по цепочке
   пока какой-то обработчик не откажется передавать его дальше, либо когда будет достигнут конец цепи.
6. Клиент должен знать о динамической природе цепочки и быть готов к таким случаям:
    - Цепочка может состоять из единственного объекта.
    - Запросы могут не достигать конца цепи.
    - Запросы могут достигать конца, оставаясь необработанными.

<h3 align="center">
   Chain of Responsibility UML-диаграмма
</h3>

<p align="center">
   <img src=https://github.com/evilpeopletyranny/JavaDesignPatterns/blob/main/src/patterns/behavior/chain/diagram.png alt="Chain of Responsibility uml">
</p>

<h3>Плюсы</h3>

- Уменьшает зависимость между клиентом и обработчиками.
- Реализует принцип единственной обязанности.
- Реализует принцип открытости/закрытости.

<h3>Минусы</h3>

- Запрос может остаться никем не обработанным.

<h3 align="center">
   Примеры
</h3>

- [Уровень логгирования.](https://github.com/evilpeopletyranny/JavaDesignPatterns/blob/main/src/patterns/behavior/chain/code)

<h3 align="center">
   Источники
</h3>

- Design Patterns with
  Java: [Chain of Responsibility](https://github.com/evilpeopletyranny/JavaDesignPatterns/blob/main/src/patterns/behavior/chain/books/Olaf%20Musch%20EN.pdf)
- Введение в паттерны
  проектирования: [Цепочка обязаностей](https://github.com/evilpeopletyranny/JavaDesignPatterns/blob/main/src/patterns/behavior/chain/books/Alexander%20Shvets%20RU.pdf)
- [Habr: Шаблон проектирования: Chain of Responsibility](https://habr.com/ru/articles/727454/)
- [Baeldung: Chain of Responsibility Design Pattern in Java](https://www.baeldung.com/chain-of-responsibility-pattern)